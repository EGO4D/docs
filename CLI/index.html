<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">CLI Tool | Ego4D</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ego4d-data.org//docs/CLI/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="CLI Tool | Ego4D"><meta data-react-helmet="true" name="description" content="The Ego4D CLI can be installed via pip and provides access to the Ego4D datasets."><meta data-react-helmet="true" property="og:description" content="The Ego4D CLI can be installed via pip and provides access to the Ego4D datasets."><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ego4d-data.org//docs/CLI/"><link data-react-helmet="true" rel="alternate" href="https://ego4d-data.org//docs/CLI/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ego4d-data.org//docs/CLI/" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.61e6ca76.css">
<link rel="preload" href="/docs/assets/js/runtime~main.2c9c13fb.js" as="script">
<link rel="preload" href="/docs/assets/js/main.cf41cc90.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/ego-4d-logo.png" alt="Ego4d Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/docs/img/ego-4d-logo-dark.png" alt="Ego4d Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Ego4D</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Welcome To EGO4D!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/start-here/">Start Here</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Benchmark Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/model-zoo/">Model Zoo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/viz/">Visualization Tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/CLI/">CLI Tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy/">Privacy and Ethics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/challenge/">Ego4D Challenge 2022</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FAQ/">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contact/">Contact Us</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ego4D Dataset Download CLI</h1></header><p>The Ego4D CLI can be installed via pip and provides access to the Ego4D datasets.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="getting-started">Getting Started<a aria-hidden="true" class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="installation">Installation<a aria-hidden="true" class="hash-link" href="#installation" title="Direct link to heading">​</a></h3><p>Install via pip (conda support coming):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pip install ego4d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites">Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><p>The CLI requires an AWS license is properly setup as per <a href="/docs/start-here/">start here</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="basic-usage">Basic Usage<a aria-hidden="true" class="hash-link" href="#basic-usage" title="Direct link to heading">​</a></h3><p>In your python environment, use the <code>ego4d</code> command line directly:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">ego4d --output_directory=&quot;~/ego4d_data&quot; --datasets full_scale annotations --metadata</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>(Alternatively, use traditional python module syntax: <code>python -m ego4d.cli.cli --output_directory=&quot;~/ego4d_data&quot; --datasets full_scale annotations --metadata</code>)</p><p>This will download all the full scale Ego4D v1 video files and annotations to a directory on
your local computer at <code>~/ego4d_data/v1/full_scale</code> and <code>~/ego4d_data/v1/annotations</code>, as well the master metadata file at <code>~/ego4d_data/v1/ego4d.json</code>. </p><p>Note that if you want to use the AWS credentials stored in a different <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html" target="_blank" rel="noopener noreferrer">named profile</a> than &quot;ego4d&quot;, or the system default (default), you can change the <code>aws_profile_name</code> flag to the name of the profile that you want to use.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="detailed-flags">Detailed Flags<a aria-hidden="true" class="hash-link" href="#detailed-flags" title="Direct link to heading">​</a></h3><table><thead><tr><th>Flag Name</th><th>Description</th></tr></thead><tbody><tr><td><code>--dataset</code></td><td>[Required]<!-- --> A list of identifiers to download: <!-- -->[annotations, full_scale, clips]<!-- -->  Each dataset will be stored in folders in the output directory with the name of the dataset (e.g. output_dir/v1/full_scale/) and manifest.</td></tr><tr><td><code>--output_directory</code></td><td>[Required]<!-- -->A local path where the downloaded files and metadata will be stored</td></tr><tr><td><code>--metadata</code></td><td>[Optional]<!-- --> Download the primary <code>ego4d.json</code> metadata at the top level (Default: True)</td></tr><tr><td><code>--benchmarks</code></td><td>[Optional]<!-- --> A list of benchmarks to filter dataset downloads by - e.g. Narrations/EM/FHO/AV</td></tr><tr><td><code>-y</code> <code>--yes</code></td><td>[Optional]<!-- --> If this flag is set, then the CLI will not show a prompt asking the user to confirm the download. This is so that the tool can be used as part of shell scripts.</td></tr><tr><td><code>--aws_profile_name</code></td><td>[Optional]<!-- --> Defaults to “default”. Specifies the AWS profile name from ~/.aws/credentials to use for the download</td></tr><tr><td><code>--video_uids</code></td><td>[Optional]<!-- --> List of video or clip UIDs to be downloaded. If not specified, all relevant UIDs will be downloaded.</td></tr><tr><td><code>--video_uid_file</code></td><td>[Optional]<!-- --> Path to a whitespace delimited file that contains a list of UIDs. Mutually exclusive with the <code>video_uids</code> flag.</td></tr><tr><td><code>--universities</code></td><td>[Optional]<!-- --> List of university IDs. If specified, only UIDs from the S3 buckets belonging to the listed universities will be downloaded.</td></tr><tr><td><code>--version</code></td><td>[Optional]<!-- --> A version identifier - e.g. “v1”</td></tr><tr><td><code>--no-metadata</code></td><td>[Optional]<!-- --> Bypass the <code>ego4d.json</code> metadata download</td></tr><tr><td><code>--config</code></td><td>[Optional]<!-- --> Local path to a config JSON file. If specified, the flags will be read from this file instead of the command line</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="datasets">Datasets<a aria-hidden="true" class="hash-link" href="#datasets" title="Direct link to heading">​</a></h3><p>The following datasets are available (not exhaustive):</p><table><thead><tr><th>Dataset</th><th>Description</th></tr></thead><tbody><tr><td>annotations</td><td>The full set of annotations for the majority of benchmarks.</td></tr><tr><td>full_scale</td><td>The full scale version of all videos.  (Provide <code>benchmarks</code> or <code>video_uids</code> filters to reduce the 5TB download size.)</td></tr><tr><td>clips</td><td>Clips available for benchmark training tasks.  (Provide <code>benchmarks</code> or <code>video_uids</code> filters to reduce the download size.)</td></tr><tr><td>video_540ss</td><td>The downscaled version of all videos - rescaled to 540px on the short side.  (Provide <code>benchmarks</code> or <code>video_uids</code> filters to reduce the 5TB download size.)</td></tr><tr><td>annotations_540ss</td><td>The annotations corresponding to the downscaled <code>video_540ss</code> videos - primarily differing only in spatial annotations (e.g. bounding boxes).</td></tr><tr><td>3d</td><td>Annotations for the 3D VQ benchmark.</td></tr><tr><td>3d_scans</td><td>3D location scans for the 3D VQ benchmark.</td></tr><tr><td>3d_scan_keypoints</td><td>3D location scan keypoints for the 3D VQ benchmark.</td></tr><tr><td>imu</td><td>IMU data for the subset of videos available</td></tr><tr><td>slowfast8x8_r101_k400</td><td>Precomputed <a href="https://ego4d-data.org/docs/data/features/" target="_blank" rel="noopener noreferrer">action features</a> for the Slowfast 8x8 (R101) model</td></tr><tr><td>omnivore_video_swinl</td><td>Precomputed <a href="https://ego4d-data.org/docs/data/features/" target="_blank" rel="noopener noreferrer">action features</a> for the Omnivore Video model</td></tr><tr><td>omnivore_image_swinl</td><td>Precomputed <a href="https://ego4d-data.org/docs/data/features/" target="_blank" rel="noopener noreferrer">action features</a> for the Omnivore Image model</td></tr><tr><td>fut_loc</td><td>Images and annotations for the future locomotion benchmark.</td></tr><tr><td>av_models</td><td>Model checkpoints for the AV/Social benchmark.</td></tr><tr><td>lta_models</td><td>Model checkpoints for the Long Term Anticipation benchmark.</td></tr><tr><td>moments_models</td><td>Model checkpoints for the Moments benchmark.</td></tr><tr><td>nlq_models</td><td>Model checkpoints for the NLQ benchmark.</td></tr><tr><td>sta_models</td><td>Model checkpoints for the Short Term Anticipation benchmark.</td></tr><tr><td>vq2d_models</td><td>Model checkpoints for the 2D VQ benchmark.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="manifests">Manifests<a aria-hidden="true" class="hash-link" href="#manifests" title="Direct link to heading">​</a></h3><p>Each dataset contains a manifest.csv file that lists it&#x27;s contents as well as additional metadata that&#x27;s available.  In particular, for <code>full_scale</code> there is metadata for each video available.  While the top level metadata <code>ego4d.json</code> is generally easier to consume and contains more information, you can consume most simple metadata from the manifest itself for each dataset.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="universities">Universities<a aria-hidden="true" class="hash-link" href="#universities" title="Direct link to heading">​</a></h3><p>The following university IDs can be specified:</p><table><thead><tr><th>University</th></tr></thead><tbody><tr><td>bristol</td></tr><tr><td>cmu</td></tr><tr><td>cmu_africa</td></tr><tr><td>frl_track_1_public</td></tr><tr><td>georgiatech</td></tr><tr><td>iiith</td></tr><tr><td>indiana</td></tr><tr><td>kaust</td></tr><tr><td>minnesota</td></tr><tr><td>nus</td></tr><tr><td>uniandes</td></tr><tr><td>unict</td></tr><tr><td>utokyo</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/viz/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Visualization Tool</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/privacy/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Privacy and Ethics<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#basic-usage" class="table-of-contents__link toc-highlight">Basic Usage</a></li><li><a href="#detailed-flags" class="table-of-contents__link toc-highlight">Detailed Flags</a></li><li><a href="#datasets" class="table-of-contents__link toc-highlight">Datasets</a></li><li><a href="#manifests" class="table-of-contents__link toc-highlight">Manifests</a></li><li><a href="#universities" class="table-of-contents__link toc-highlight">Universities</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Intro</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/data/annotation-guidelines/">Annotation Guidelines</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/challenge/">Ego4D Challenge</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contact/">Contact Us</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Ego4d" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://ego4d-data.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Ego4D Main Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Ego4d</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.2c9c13fb.js"></script>
<script src="/docs/assets/js/main.cf41cc90.js"></script>
</body>
</html>